{% extends 'layout.html' %}

{% block content %}

<div id="content">
    <h1>Set Up Your Game</h1>
    <form method="POST" action="{% url 'game_setup' %}" >
        {% csrf_token %}
        <label for="username">Player 2 Username:</label>
        <input type="text" id="username" name="username" required>
        <label for="password">Player 2 Password:</label>
        <input type="password" id="password" name="password" required>
        <button type="submit">Log in second Player</button>
    </form>
    {% if request.session.player2 %}
        <h3>Player 2 Profile</h3>
        <p>Display Name: {{ request.session.player2.display_name }}</p>
        <img id="player2-avatar" src="{{ request.session.player2.avatar.url }}" alt="User Avatar" class="avatar">
        <p>Wins: {{ request.session.player2.wins }}</p>
        <p>Losses: {{ request.session.player2.losses }}</p>
    {% endif %}

    <div class="menu-container">
        <div class="menu">
            <label for="player1Type">Player 1:</label>
            <select id="player1Type">
                <option value="human">Human</option>
                <option value="ai">AI</option>
            </select>
        </div>
        <div class="menu">
            <label for="player1Colour"></label>
            <select id="player1Colour">
                <option value="red">Red</option>
                <option value="green">Green</option>
                <option value="blue">Blue</option>
                <option value="orange">Orange</option>
                <option value="purple">Purple</option>
                <option value="gold">Gold</option>
                <option value="black">Black</option>
            </select>
        </div>
        <div class="menu">
            <label for="player2Colour"></label>
            <select id="player2Colour">
                <option value="green">Green</option>
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="orange">Orange</option>
                <option value="purple">Purple</option>
                <option value="gold">Gold</option>
                <option value="black">Black</option>
            </select>
        </div>
        <div class="menu">
            <label for="player2Type">Player 2:</label>
            <select id="player2Type">
                <option value="human">Human</option>
                <option value="ai">AI</option>
            </select>
        </div>
    </div>
    <div class="menu">
	<label for="chosenMap">Map:</label>
	<select id="chosenMap">
	    <option value="normal">Normal</option>
	    <option value="box">Box</option>
	    <option value="twoLines">Two Lines</option>
	</select>
 </div>
 <div class="menu">
	<label for="extrasAreOn">Extras:</label>
	<select id="extrasAreOn">
	    <option value="OFF">OFF</option>
	    <option value="ON">ON</option>
	</select>
 </div>

    <!-- Game Canvas Section -->
    <div class="game-canvas">
        <canvas id="myCanvas" width="720" height="480"></canvas>
        <button id="runButton" class="btn btn-primary">Start Game</button>
    </div>

    <div class="game-canvas">
        <canvas id="fourPlayer" width="480" height="480"></canvas>
        <button id="runButton4" class="btn btn-primary">Start 4 Player Game</button>
    </div>
</div>


<script type="module" src="/static/js/myCanvas.js"></script>

{% endblock %}
